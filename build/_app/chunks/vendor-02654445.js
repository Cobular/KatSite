function t(){}function n(t,n){for(const e in n)t[e]=n[e];return t}function e(t){return t()}function i(){return Object.create(null)}function o(t){t.forEach(e)}function r(t){return"function"==typeof t}function c(t,n){return t!=t?n==n:t!==n||t&&"object"==typeof t||"function"==typeof t}function a(n,e,i){n.$$.on_destroy.push(function(n,...e){if(null==n)return t;const i=n.subscribe(...e);return i.unsubscribe?()=>i.unsubscribe():i}(e,i))}function s(t,n,e,i){if(t){const o=l(t,n,e,i);return t[0](o)}}function l(t,e,i,o){return t[1]&&o?n(i.ctx.slice(),t[1](o(e))):i.ctx}function u(t,n,e,i){if(t[2]&&i){const o=t[2](i(e));if(void 0===n.dirty)return o;if("object"==typeof o){const t=[],e=Math.max(n.dirty.length,o.length);for(let i=0;i<e;i+=1)t[i]=n.dirty[i]|o[i];return t}return n.dirty|o}return n.dirty}function h(t,n,e,i,o,r){if(o){const c=l(n,e,i,r);t.p(c,o)}}function d(t){if(t.ctx.length>32){const n=[],e=t.ctx.length/32;for(let t=0;t<e;t++)n[t]=-1;return n}return-1}function f(t){const n={};for(const e in t)"$"!==e[0]&&(n[e]=t[e]);return n}let m,w=!1;function g(t,n,e,i){for(;t<n;){const o=t+(n-t>>1);e(o)<=i?t=o+1:n=o}return t}function v(t,n){if(w){for(!function(t){if(t.hydrate_init)return;t.hydrate_init=!0;let n=t.childNodes;if("HEAD"===t.nodeName){const t=[];for(let e=0;e<n.length;e++){const i=n[e];void 0!==i.claim_order&&t.push(i)}n=t}const e=new Int32Array(n.length+1),i=new Int32Array(n.length);e[0]=-1;let o=0;for(let s=0;s<n.length;s++){const t=n[s].claim_order,r=(o>0&&n[e[o]].claim_order<=t?o+1:g(1,o,(t=>n[e[t]].claim_order),t))-1;i[s]=e[r]+1;const c=r+1;e[c]=s,o=Math.max(c,o)}const r=[],c=[];let a=n.length-1;for(let s=e[o]+1;0!=s;s=i[s-1]){for(r.push(n[s-1]);a>=s;a--)c.push(n[a]);a--}for(;a>=0;a--)c.push(n[a]);r.reverse(),c.sort(((t,n)=>t.claim_order-n.claim_order));for(let s=0,l=0;s<c.length;s++){for(;l<r.length&&c[s].claim_order>=r[l].claim_order;)l++;const n=l<r.length?r[l]:null;t.insertBefore(c[s],n)}}(t),(void 0===t.actual_end_child||null!==t.actual_end_child&&t.actual_end_child.parentElement!==t)&&(t.actual_end_child=t.firstChild);null!==t.actual_end_child&&void 0===t.actual_end_child.claim_order;)t.actual_end_child=t.actual_end_child.nextSibling;n!==t.actual_end_child?void 0===n.claim_order&&n.parentNode===t||t.insertBefore(n,t.actual_end_child):t.actual_end_child=n.nextSibling}else n.parentNode!==t&&t.appendChild(n)}function p(t,n,e){w&&!e?v(t,n):n.parentNode===t&&n.nextSibling==e||t.insertBefore(n,e||null)}function x(t){t.parentNode.removeChild(t)}function _(t,n){for(let e=0;e<t.length;e+=1)t[e]&&t[e].d(n)}function $(t){return document.createElement(t)}function y(t){return document.createTextNode(t)}function b(){return y(" ")}function M(){return y("")}function Y(t,n,e,i){return t.addEventListener(n,e,i),()=>t.removeEventListener(n,e,i)}function X(t,n,e){null==e?t.removeAttribute(n):t.getAttribute(n)!==e&&t.setAttribute(n,e)}function E(t,n){const e=Object.getOwnPropertyDescriptors(t.__proto__);for(const i in n)null==n[i]?t.removeAttribute(i):"style"===i?t.style.cssText=n[i]:"__value"===i?t.value=t[i]=n[i]:e[i]&&e[i].set?t[i]=n[i]:X(t,i,n[i])}function H(t){return Array.from(t.childNodes)}function S(t,n,e,i,o=!1){!function(t){void 0===t.claim_info&&(t.claim_info={last_index:0,total_claimed:0})}(t);const r=(()=>{for(let i=t.claim_info.last_index;i<t.length;i++){const r=t[i];if(n(r)){const n=e(r);return void 0===n?t.splice(i,1):t[i]=n,o||(t.claim_info.last_index=i),r}}for(let i=t.claim_info.last_index-1;i>=0;i--){const r=t[i];if(n(r)){const n=e(r);return void 0===n?t.splice(i,1):t[i]=n,o?void 0===n&&t.claim_info.last_index--:t.claim_info.last_index=i,r}}return i()})();return r.claim_order=t.claim_info.total_claimed,t.claim_info.total_claimed+=1,r}function W(t,n,e,i){return S(t,(t=>t.nodeName===n),(t=>{const n=[];for(let i=0;i<t.attributes.length;i++){const o=t.attributes[i];e[o.name]||n.push(o.name)}n.forEach((n=>t.removeAttribute(n)))}),(()=>i?function(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}(n):$(n)))}function L(t,n){return S(t,(t=>3===t.nodeType),(t=>{const e=""+n;if(t.data.startsWith(e)){if(t.data.length!==e.length)return t.splitText(e.length)}else t.data=e}),(()=>y(n)),!0)}function A(t){return L(t," ")}function N(t,n){n=""+n,t.wholeText!==n&&(t.data=n)}function Z(t,n,e){t.classList[e?"add":"remove"](n)}function z(t){m=t}function k(){if(!m)throw new Error("Function called outside component initialization");return m}function G(t){k().$$.on_mount.push(t)}function V(t){k().$$.after_update.push(t)}function B(t,n){k().$$.context.set(t,n)}function D(t){return k().$$.context.get(t)}const O=[],j=[],I=[],T=[],C=Promise.resolve();let q=!1;function P(t){I.push(t)}let F=!1;const J=new Set;function K(){if(!F){F=!0;do{for(let t=0;t<O.length;t+=1){const n=O[t];z(n),Q(n.$$)}for(z(null),O.length=0;j.length;)j.pop()();for(let t=0;t<I.length;t+=1){const n=I[t];J.has(n)||(J.add(n),n())}I.length=0}while(O.length);for(;T.length;)T.pop()();q=!1,F=!1,J.clear()}}function Q(t){if(null!==t.fragment){t.update(),o(t.before_update);const n=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,n),t.after_update.forEach(P)}}const R=new Set;let U;function tt(){U={r:0,c:[],p:U}}function nt(){U.r||o(U.c),U=U.p}function et(t,n){t&&t.i&&(R.delete(t),t.i(n))}function it(t,n,e,i){if(t&&t.o){if(R.has(t))return;R.add(t),U.c.push((()=>{R.delete(t),i&&(e&&t.d(1),i())})),t.o(n)}}function ot(t,n){const e={},i={},o={$$scope:1};let r=t.length;for(;r--;){const c=t[r],a=n[r];if(a){for(const t in c)t in a||(i[t]=1);for(const t in a)o[t]||(e[t]=a[t],o[t]=1);t[r]=a}else for(const t in c)o[t]=1}for(const c in i)c in e||(e[c]=void 0);return e}function rt(t){return"object"==typeof t&&null!==t?t:{}}function ct(t){t&&t.c()}function at(t,n){t&&t.l(n)}function st(t,n,i,c){const{fragment:a,on_mount:s,on_destroy:l,after_update:u}=t.$$;a&&a.m(n,i),c||P((()=>{const n=s.map(e).filter(r);l?l.push(...n):o(n),t.$$.on_mount=[]})),u.forEach(P)}function lt(t,n){const e=t.$$;null!==e.fragment&&(o(e.on_destroy),e.fragment&&e.fragment.d(n),e.on_destroy=e.fragment=null,e.ctx=[])}function ut(t,n){-1===t.$$.dirty[0]&&(O.push(t),q||(q=!0,C.then(K)),t.$$.dirty.fill(0)),t.$$.dirty[n/31|0]|=1<<n%31}function ht(n,e,r,c,a,s,l,u=[-1]){const h=m;z(n);const d=n.$$={fragment:null,ctx:null,props:s,update:t,not_equal:a,bound:i(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(h?h.$$.context:e.context||[]),callbacks:i(),dirty:u,skip_bound:!1,root:e.target||h.$$.root};l&&l(d.root);let f=!1;if(d.ctx=r?r(n,e.props||{},((t,e,...i)=>{const o=i.length?i[0]:e;return d.ctx&&a(d.ctx[t],d.ctx[t]=o)&&(!d.skip_bound&&d.bound[t]&&d.bound[t](o),f&&ut(n,t)),e})):[],d.update(),f=!0,o(d.before_update),d.fragment=!!c&&c(d.ctx),e.target){if(e.hydrate){w=!0;const t=H(e.target);d.fragment&&d.fragment.l(t),t.forEach(x)}else d.fragment&&d.fragment.c();e.intro&&et(n.$$.fragment),st(n,e.target,e.anchor,e.customElement),w=!1,K()}z(h)}class dt{$destroy(){lt(this,1),this.$destroy=t}$on(t,n){const e=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return e.push(n),()=>{const t=e.indexOf(n);-1!==t&&e.splice(t,1)}}$set(t){var n;this.$$set&&(n=t,0!==Object.keys(n).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const ft=[];function mt(n,e=t){let i;const o=new Set;function r(t){if(c(n,t)&&(n=t,i)){const t=!ft.length;for(const e of o)e[1](),ft.push(e,n);if(t){for(let t=0;t<ft.length;t+=2)ft[t][0](ft[t+1]);ft.length=0}}}return{set:r,update:function(t){r(t(n))},subscribe:function(c,a=t){const s=[c,a];return o.add(s),1===o.size&&(i=e(r)||t),c(n),()=>{o.delete(s),0===o.size&&(i(),i=null)}}}}class wt{constructor(t){this.svg=t||document.createElementNS("http://www.w3.org/2000/svg","svg"),this.vtm=this.createSVGMatrix(),this.x=0,this.y=0,this.captureScale=1}clamp(t,n,e,i){let o=(window.innerWidth-i.width)/2,r=(window.innerHeight-i.height)/2,c=o*t+i.width*t-window.innerWidth,a=Math.min(1*this.vtm.e,0),s=Math.min(1*this.vtm.f,0),l=n>0?a:-o*t,u=n>0?a:-c,h=this.vtm.e;h=Math.max(u,this.vtm.e),h=Math.min(l,h);let d=r*t+i.height*t-window.innerHeight,f=e>0?s:-r*t,m=e>0?s:-d,w=this.vtm.f;w=Math.min(f,w),w=Math.max(w,m),this.vtm=this.createSVGMatrix().translate(h,w).scale(Math.max(this.vtm.a,1))}createSVGMatrix(){return this.svg.createSVGMatrix()}move(t,n,e,i,o){return this.vtm=this.createSVGMatrix().translate(this.x-t,this.y-n).scale(this.vtm.a),this.clamp(this.vtm.a,e,i,o),this.vtm}scale(t,n,e,i,o,r,c,a,s){if((a>=c||this.stop)&&1===s)return this.stop=!0,this.deb||(this.captureScale=this.vtm.a,this.vtm=this.createSVGMatrix().translate(e.x,e.y).scale(c/this.captureScale).translate(-e.x,-e.y).translate(this.vtm.e,this.vtm.f).scale(this.captureScale),this.deb=!0),this.vtm;this.stop=!1,this.vtm=this.createSVGMatrix().translate(e.x,e.y).scale(t,n).translate(-e.x,-e.y).multiply(this.vtm);let l=Math.min(Math.max(1,this.vtm.a),c);return this.clamp(l,i,o,r),this.vtm}}class gt{constructor(){this.touchA={clientX:0,clientY:0,t:0,velocity:1},this.touchB={clientX:0,clientY:0,t:0,velocity:1}}down(t,n){this.touchA={clientX:t.clientX,clientY:t.clientY,t:Date.now(),velocity:0},this.touchB={clientX:n.clientX,clientY:n.clientY,t:Date.now(),veloctiy:0}}calc(t,n){var e=t.clientX,i=t.clientY,o=Date.now(),r=e-n.clientX,c=i-n.clientY,a=o-n.t,s=Math.sqrt(r*r+c*c)/a;n.velocity=s,n.clientX=e,n.clientY=i,n.t=o}getVelocity(t,n){return this.calc(t,this.touchA),this.calc(n,this.touchB),this.touchA.velocity+this.touchB.velocity}}function vt(t,n){return Math.hypot(t.pageX-n.pageX,t.pageY-n.pageY)}function pt(e){let i,r,c,a=[{alt:e[0]},{class:"c-svelteZoom"},e[7]],s={};for(let t=0;t<a.length;t+=1)s=n(s,a[t]);return{c(){i=$("img"),this.h()},l(t){i=W(t,"IMG",{alt:!0,class:!0}),this.h()},h(){E(i,s),Z(i,"c-svelteZoom--contain",e[3]),Z(i,"c-svelteZoom--no-contain",!e[3]),Z(i,"c-svelteZoom--transition",e[1]),Z(i,"c-svelteZoom--visible",e[3]),Z(i,"c-svelteZoom--hidden",null===e[3]),Z(i,"svelte-17i4z2s",!0)},m(t,n){p(t,i,n),e[10](i),r||(c=[Y(i,"mousedown",e[5]),Y(i,"touchstart",e[6]),Y(i,"load",e[4])],r=!0)},p(t,n){E(i,s=ot(a,[1&n[0]&&{alt:t[0]},{class:"c-svelteZoom"},128&n[0]&&t[7]])),Z(i,"c-svelteZoom--contain",t[3]),Z(i,"c-svelteZoom--no-contain",!t[3]),Z(i,"c-svelteZoom--transition",t[1]),Z(i,"c-svelteZoom--visible",t[3]),Z(i,"c-svelteZoom--hidden",null===t[3]),Z(i,"svelte-17i4z2s",!0)},i:t,o:t,d(t){t&&x(i),e[10](null),r=!1,o(c)}}}function xt(t,e,i){let o,r,c,{alt:a}=e,s=!0,l=!1,u={initX:0,initY:0,newX:0,newY:0},h=null,d=new gt,m={time:0,x:0,y:0},w={scaling:!1,x1:0,x2:0,y1:0,y2:0,lastHypo:0,originX:0,originY:0,value:1,max:1};function g(t,n){u.initX=t,u.initY=n,c.x=c.vtm.e,c.y=c.vtm.f}function v(t,n){if(w.scaling)return;let e=(window.innerWidth-o.width*c.vtm.a)/2,a=(window.innerHeight-o.height*c.vtm.a)/2;u.newX=u.initX-t,u.newY=u.initY-n;const s=c.move(e>=0?0:u.newX,a>=0?0:u.newY,e,a,o);i(2,r.style.transform=`matrix(${s.a},${s.b},${s.c},${s.d},${s.e}, ${s.f})`,r)}function p(){c.x-=u.newX,c.y-=u.newY,w.scaling=!1,w.lastHypo=0,i(1,s=!0)}function x(t){const n=1+.2*t,e=n*window.innerHeight/window.innerWidth;let a=(window.innerWidth-o.width*c.vtm.a)/2,s=(window.innerHeight-o.height*c.vtm.a)/2;const l={x:window.innerWidth/2,y:window.innerHeight/2},u=c.scale(n,e,l,a,s,o,w.max,w.value*n,t);i(2,r.style.transform=`translate(${u.e}px,${u.f}px) scale(${u.d})`,r),w.value=u.d}function _(){y(),g(0,0),v(0,0),p()}function $(t){t.preventDefault();const n=t.deltaY<0?1:-1,e=1+.1*n,a=e*window.innerHeight/window.innerWidth;let s=(window.innerWidth-o.width*c.vtm.a)/2,l=(window.innerHeight-o.height*c.vtm.a)/2;const u={x:s>0?window.innerWidth/2:t.pageX,y:l>0?window.innerHeight/2:t.pageY},h=c.scale(e,a,u,s,l,o,w.max,w.value*e,n);i(2,r.style.transform=`translate(${h.e}px,${h.f}px) scale(${h.d})`,r),w.value=h.d}function y(){const{naturalWidth:t,naturalHeight:n}=r;i(3,h=t>window.innerWidth||n>window.innerHeight),w.max=Math.max(t/window.innerWidth,1),o=function(t,n,e,i){var o=Math.min(e/t,i/n);return{width:t*o,height:n*o,ratio:o}}(t,n,window.innerWidth,window.innerHeight)}function b(t){if(w.scaling){const[n,e]=t.touches;!function(t,n,e){const a=vt(t,n);let s=a/w.lastHypo;s=s>=1?1:-1;const l=1+.1*(d.getVelocity(t,n)||1)*s,u=l*window.innerHeight/window.innerWidth;let h=(window.innerWidth-o.width*c.vtm.a)/2,f=(window.innerHeight-o.height*c.vtm.a)/2;const m={x:h>0?window.innerWidth/2:w.originX,y:f>0?window.innerHeight/2:w.originY},g=c.scale(l,u,m,h,f,o,w.max,w.value*l,s);i(2,r.style.transform=`translate(${g.e}px, ${g.f}px) scale(${g.d})`,r),w.value=g.d,w.lastHypo=a,w.scaling=!0}(n,e)}else v(t.touches[0].pageX,t.touches[0].pageY)}function M(t){p(),window.removeEventListener("touchmove",b),window.removeEventListener("touchend",M),window.removeEventListener("touchcancel",M)}function Y({clientX:t,clientY:n}){v(t,n)}function X(){window.removeEventListener("mousemove",Y),p()}G((()=>{c=new wt,window.addEventListener("wheel",$,{passive:!1}),window.addEventListener("resize",_)}));const E=function({clientX:t,clientY:n}){l||(g(t,n),i(1,s=!1),window.addEventListener("mousemove",Y),window.addEventListener("mouseup",X))},H=function(t){l=!0;const n=2===t.touches.length,[e,a]=t.touches;if(w.scaling=n,i(1,s=!1),n)!function(t,n){const e=[Math.min(t.pageX,n.pageX),Math.max(t.pageX,n.pageX)],o=[Math.min(t.pageY,n.pageY),Math.max(t.pageY,n.pageY)],r=(e[1]-e[0])/2+e[0],c=(o[1]-o[0])/2+o[0];w.originX=r,w.originY=c,w.lastHypo=Math.trunc(vt(t,n)),i(1,s=!1)}(e,a),d.down(e,a);else{const{pageX:t,pageY:n}=e;var u=(new Date).getTime();u-m.time<250&&Math.hypot(m.current.x-t,m.current.y-n)<=20?(i(1,s=!0),function(t,n){let e=c.vtm.a,a=e>1?-1:1;const s=1+(e>1?e-1:w.max/2.5)*a,l=s*window.innerHeight/window.innerWidth;let u=(window.innerWidth-o.width*Math.max(s*e,1))/2,h=(window.innerHeight-o.height*Math.max(s*e,1))/2;const d={x:u>0?window.innerWidth/2:t,y:h>0?window.innerHeight/2:n},f=c.scale(s,l,d,u,h,o,w.max,w.value*s,a);w.value=f.d,i(2,r.style.transform=`translate(${f.e}px, ${f.f}px) scale(${f.d})`,r)}(t,n)):g(t,n),m={time:u,x:t,y:n}}window.removeEventListener("touchmove",b),window.removeEventListener("touchend",M),window.addEventListener("touchmove",b),window.addEventListener("touchend",M)};return t.$$set=t=>{i(7,e=n(n({},e),f(t))),"alt"in t&&i(0,a=t.alt)},e=f(e),[a,s,r,h,y,E,H,e,()=>x(1),()=>x(-1),function(t){j[t?"unshift":"push"]((()=>{r=t,i(2,r)}))}]}class _t extends dt{constructor(t){super(),ht(this,t,xt,pt,c,{alt:0,zoomIn:8,zoomOut:9},null,[-1,-1])}get zoomIn(){return this.$$.ctx[8]}get zoomOut(){return this.$$.ctx[9]}}export{G as A,n as B,mt as C,v as D,t as E,D as F,Z as G,a as H,_ as I,s as J,h as K,d as L,u as M,Y as N,o as O,_t as P,j as Q,dt as S,H as a,X as b,W as c,x as d,$ as e,p as f,L as g,N as h,ht as i,ct as j,b as k,M as l,at as m,A as n,st as o,ot as p,rt as q,tt as r,c as s,y as t,it as u,lt as v,nt as w,et as x,B as y,V as z};
